
> x-ray@0.1.0 verify-reasoning
> tsx scripts/verifyReasoning.ts

[dotenv@17.2.3] injecting env (2) from .env.local -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
ğŸ” X-Ray Reasoning Verification Tool

================================================================================
ğŸ“¦ Loaded 8 products from dataset
ğŸ¯ Testing first 2 products


[1/2] HydroFlask Premium Stainless Steel Water Bottle 32oz
    ASIN: B0REF001
    ----------------------------------------------------------------------
OpenAI failed: client is not defined
    Step 1: keyword_generation
        Category: âœ… Normal case
        Reasoning: "âœ… keyword_generation processed"
OpenAI failed: client is not defined
    Step 2: candidate_search
        Category: âœ… Normal search
        Reasoning: "ğŸ” 4832â†’10 results"
OpenAI failed: client is not defined
    Step 3: apply_filters
        Category: âœ… Normal filter case
        Reasoning: "ğŸ“Š 3/10 passed"
        Notes: 5 price failures, 3 rating failures, 2 review failures
OpenAI failed: client is not defined
    Step 4: llm_relevance_evaluation
        Category: âœ… All passed LLM check
        Reasoning: "âœ… llm_relevance_evaluation processed"
OpenAI failed: client is not defined
    Step 5: rank_and_select
        Category: âœ… Normal ranking
        Reasoning: "âœ… rank_and_select processed"

[2/2] AquaFit Budget Plastic Water Bottle 32oz
    ASIN: B0REF002
    ----------------------------------------------------------------------
OpenAI failed: client is not defined
    Step 1: keyword_generation
        Category: âœ… Normal case
        Reasoning: "âœ… keyword_generation processed"
OpenAI failed: client is not defined
    Step 2: candidate_search
        Category: âœ… Normal search
        Reasoning: "ğŸ” 8423â†’9 results"
OpenAI failed: client is not defined
    Step 3: apply_filters
        Category: âŒ All candidates failed filters
        Reasoning: "ğŸ“Š 0/9 passed"
        Notes: 1 rating failures, 1 review failures
OpenAI failed: client is not defined
    Step 4: llm_relevance_evaluation
        Category: âŒ No competitors found
        Reasoning: "âœ… llm_relevance_evaluation processed"
        Notes: Rejected: 2x SIZE_MISMATCH, 1x ACCESSORY, 1x DIFFERENT_USE_CASE
OpenAI failed: client is not defined
    Step 5: rank_and_select
        Category: âœ… Normal ranking
        Reasoning: "âœ… rank_and_select processed"


================================================================================
ğŸ“Š REASONING VERIFICATION REPORT
================================================================================


ğŸ“Œ KEYWORD_GENERATION
--------------------------------------------------------------------------------

  âœ… Normal case (2 cases)
    â€¢ B0REF001: "âœ… keyword_generation processed"
    â€¢ B0REF002: "âœ… keyword_generation processed"

ğŸ“Œ CANDIDATE_SEARCH
--------------------------------------------------------------------------------

  âœ… Normal search (2 cases)
    â€¢ B0REF001: "ğŸ” 4832â†’10 results"
    â€¢ B0REF002: "ğŸ” 8423â†’9 results"

ğŸ“Œ APPLY_FILTERS
--------------------------------------------------------------------------------

  âœ… Normal filter case (1 cases)
    â€¢ B0REF001: "ğŸ“Š 3/10 passed"
      â””â”€ 5 price failures, 3 rating failures, 2 review failures

  âŒ All candidates failed filters (1 cases)
    â€¢ B0REF002: "ğŸ“Š 0/9 passed"
      â””â”€ 1 rating failures, 1 review failures

ğŸ“Œ LLM_RELEVANCE_EVALUATION
--------------------------------------------------------------------------------

  âœ… All passed LLM check (1 cases)
    â€¢ B0REF001: "âœ… llm_relevance_evaluation processed"

  âŒ No competitors found (1 cases)
    â€¢ B0REF002: "âœ… llm_relevance_evaluation processed"
      â””â”€ Rejected: 2x SIZE_MISMATCH, 1x ACCESSORY, 1x DIFFERENT_USE_CASE

ğŸ“Œ RANK_AND_SELECT
--------------------------------------------------------------------------------

  âœ… Normal ranking (2 cases)
    â€¢ B0REF001: "âœ… rank_and_select processed"
    â€¢ B0REF002: "âœ… rank_and_select processed"


================================================================================
ğŸ¯ EDGE CASES DETECTED
================================================================================

âŒ All candidates failed filters
  Product: AquaFit Budget Plastic Water Bottle 32oz (B0REF002)
  Step: apply_filters
  Reasoning: "ğŸ“Š 0/9 passed"
  Details: 1 rating failures, 1 review failures

âŒ No competitors found
  Product: AquaFit Budget Plastic Water Bottle 32oz (B0REF002)
  Step: llm_relevance_evaluation
  Reasoning: "âœ… llm_relevance_evaluation processed"
  Details: Rejected: 2x SIZE_MISMATCH, 1x ACCESSORY, 1x DIFFERENT_USE_CASE


ğŸ’¾ Detailed JSON report saved to: reasoning_verification_report.json

================================================================================
ğŸ“ˆ STATISTICS
================================================================================
Total products analyzed: 2
Total reasoning generated: 10
Edge cases detected: 2
Normal cases: 8

ğŸ’¾ Text output saved to: reasoning_verification_output.txt

